extends ../layout

block content
  if history[0]
    h1 Asset History
    h2= `Asset: ${history[0].Asset.serialNumber} - ${history[0].Asset.make} ${history[0].Asset.model}`
    table#historyTable.table.table-striped
      thead
        tr
          th Date
          th Action
          th Employee
          th Reason
      tbody
        each event in history
          tr
            td= event.date.toLocaleString()
            td= event.action
            td= event.Employee ? event.Employee.name : 'N/A'
            td= event.reason || 'N/A'
  else 
    h1.text-center.mt-5 No Records Found
block scripts
  script.
    $(document).ready(function() {  
      $('#historyTable').DataTable({
        "order": [[ 0, "desc" ]]
      });
    });